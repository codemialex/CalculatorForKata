Можно было разделять входящие строковые
выражения по пробелам, это было бы легче.
В связи с тем, что в условии на пробелах акцент не сделан, решил считать,
что пользователь может ими пренебрегать в работе с программой.